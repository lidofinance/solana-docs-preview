"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8551],{3905:(t,e,a)=>{a.d(e,{Zo:()=>l,kt:()=>m});var o=a(7294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e){if(null==t)return{};var a,o,n=function(t,e){if(null==t)return{};var a,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var c=o.createContext({}),u=function(t){var e=o.useContext(c),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},l=function(t){var e=u(t.components);return o.createElement(c.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},p=o.forwardRef((function(t,e){var a=t.components,n=t.mdxType,r=t.originalType,c=t.parentName,l=s(t,["components","mdxType","originalType","parentName"]),p=u(a),m=n,g=p["".concat(c,".").concat(m)]||p[m]||d[m]||r;return a?o.createElement(g,i(i({ref:e},l),{},{components:a})):o.createElement(g,i({ref:e},l))}));function m(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var r=a.length,i=new Array(r);i[0]=p;var s={};for(var c in e)hasOwnProperty.call(e,c)&&(s[c]=e[c]);s.originalType=t,s.mdxType="string"==typeof t?t:n,i[1]=s;for(var u=2;u<r;u++)i[u]=a[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}p.displayName="MDXCreateElement"},7308:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>u,metadata:()=>d,toc:()=>m});var o=a(7462),n=(a(7294),a(3905));const r=a.p+"assets/images/mercurial_error-d13c2ba7c41e92cb97f76ad7ac49fa74.png",i=a.p+"assets/images/raydium_warning-f64d8aa114e25d44c6e147e4f11aaa11.png",s=a.p+"assets/images/raydium_migrate-cf1573ea2c95722a883c0be300216f86.png",c=a.p+"assets/images/saber_migrate-7183c3f70bea568a3d3cf36a31263032.png",u={id:"migrate-aux-to-ata-guide",title:"Migrating tokens from Aux account to ATA account",description:"Guide to help users migrate to Associated Token Accounts",keywords:["Solana","ATA","Saber","Mercurial","Raydium"],sidebar_label:"ATA Migration Guide",sidebar_position:9},l=void 0,d={unversionedId:"staking/migrate-aux-to-ata-guide",id:"staking/migrate-aux-to-ata-guide",title:"Migrating tokens from Aux account to ATA account",description:"Guide to help users migrate to Associated Token Accounts",source:"@site/docs/staking/ata_migration.md",sourceDirName:"staking",slug:"/staking/migrate-aux-to-ata-guide",permalink:"/staking/migrate-aux-to-ata-guide",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{id:"migrate-aux-to-ata-guide",title:"Migrating tokens from Aux account to ATA account",description:"Guide to help users migrate to Associated Token Accounts",keywords:["Solana","ATA","Saber","Mercurial","Raydium"],sidebar_label:"ATA Migration Guide",sidebar_position:9},sidebar:"solidoSidebar",previous:{title:"Wormhole Guide (Orca Pool)",permalink:"/staking/Orca-pool-Wormhole-guide"},next:{title:"Governance",permalink:"/governance"}},p={},m=[{value:"Associated Token Accounts v/s Aux Accounts",id:"associated-token-accounts-vs-aux-accounts",level:2},{value:"Lido on Solana Aux Accounts",id:"lido-on-solana-aux-accounts",level:2},{value:"How to migrate to an ATA account",id:"how-to-migrate-to-an-ata-account",level:2},{value:"1. Checking stSOL in Aux Account",id:"1-checking-stsol-in-aux-account",level:3},{value:"2. Migrating the Aux Account to ATA",id:"2-migrating-the-aux-account-to-ata",level:3}],g={toc:m};function h(t){let{components:e,...a}=t;return(0,n.kt)("wrapper",(0,o.Z)({},g,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"associated-token-accounts-vs-aux-accounts"},"Associated Token Accounts v/s Aux Accounts"),(0,n.kt)("p",null,"Solana Program Library (SPL) allows a user to hold multiple tokens accounts corresponding to the same mint. These accounts "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"All have different addresses "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Do not")," bear any relation with the user's main account address"),(0,n.kt)("li",{parentName:"ul"},"Hold only those tokens which are produced by that specific mint")),(0,n.kt)("p",null,"Such accounts are known as Aux Accounts. However, these accounts can be a source of considerable confusion for other users trying to transfer money to the holder of the Aux Accounts. It also becomes nuanced for Dapps to build solutions that list a user's Aux Accounts. "),(0,n.kt)("p",null,"To overcome this problem Solana Program Library provides ",(0,n.kt)("a",{parentName:"p",href:"https://spl.solana.com/associated-token-account"},(0,n.kt)("strong",{parentName:"a"},"Associated Token Accounts"))," (ATA) which are ",(0,n.kt)("em",{parentName:"p"},"deterministically")," derived from the user's main account address and a token mint address. This makes it easier for wallets to keep track of all the ATAs corresponding to one user (one main System account address)."),(0,n.kt)("h2",{id:"lido-on-solana-aux-accounts"},"Lido on Solana Aux Accounts"),(0,n.kt)("p",null,"Every time a user deposits into and subsequently withdraws from the Lido on Solana program they are provided with a ",(0,n.kt)("strong",{parentName:"p"},"deactivating stake account"),". In its early days these deactivating stake accounts were just Aux Accounts. Later on, the Lido program started creating Associated Token Accounts upon withdrawal. Users who performed withdrawals within the first few days of Lido on Solana launch were assigned the Aux accounts."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"For more details about the withdrawal process and deactivating stake accounts please visit ",(0,n.kt)("a",{parentName:"p",href:"https://docs.solana.lido.fi/staking/phantom#step-6-unstaking-and-utlizing-stsol"},"https://docs.solana.lido.fi/staking/phantom#step-6-unstaking-and-utlizing-stsol"))),(0,n.kt)("p",null,"These users now need to migrate their Aux accounts to ATA as most wallets recognize the ATAs. Those who do not migrate to ATAs may face problems when depositing into pools. For example a user with stSOL in their Aux account tried to deposit into the Mercurial ",(0,n.kt)("a",{parentName:"p",href:"https://mercurial.finance/pools/stsol-2pool"},(0,n.kt)("inlineCode",{parentName:"a"},"stSOL-2Pool"))," but got a warning that their ",(0,n.kt)("inlineCode",{parentName:"p"},"Transaction may fail to confirm")),(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:r,alt:"Mercurial Error",width:"500"})),(0,n.kt)("p",null,"This warning and other errors may arise if stSOL lies in an Aux Account instead of an ATA. "),(0,n.kt)("h2",{id:"how-to-migrate-to-an-ata-account"},"How to migrate to an ATA account"),(0,n.kt)("h3",{id:"1-checking-stsol-in-aux-account"},"1. Checking stSOL in Aux Account"),(0,n.kt)("p",null,"To check if your stSOL is ",(0,n.kt)("strong",{parentName:"p"},"not")," in an ATA head over to ",(0,n.kt)("a",{parentName:"p",href:"https://raydium.io/swap/?from=7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj&to=11111111111111111111111111111111"},"https://raydium.io/swap")," and connect your wallet."),(0,n.kt)("p",null,"In case you have stSOL in an Aux Account Raydium will show you the following warning"),(0,n.kt)("admonition",{type:"warning"},(0,n.kt)("p",{parentName:"admonition"},"You have 1 Token Accounts in your wallet that need to be migrated to associated token accounts. To learn more click here or use this migration tool to simplify the process of migrating your balances")),(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:i,alt:"Raydium Warning",width:"500"})),(0,n.kt)("h3",{id:"2-migrating-the-aux-account-to-ata"},"2. Migrating the Aux Account to ATA"),(0,n.kt)("p",null,"If you do have tokens in your Aux Account head over to ",(0,n.kt)("a",{parentName:"p",href:"https://v1.raydium.io/migrate/"},"https://v1.raydium.io/migrate/"),". You will see the Aux Account Address, the balance and the token that needs to be migrated - ",(0,n.kt)("inlineCode",{parentName:"p"},"stSOL")," in this case. "),(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:s,alt:"Raydium Migrate",width:"500"})),(0,n.kt)("p",null,"Click ",(0,n.kt)("inlineCode",{parentName:"p"},"Migrate Token Accounts"),". Upon successful migration you will be able to deposit your stSOL easily into pools like Mercurial, Orca and Saber."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Alternatively"),", you may also use Saber App to migrate your stSOL to ATA. Head over to ",(0,n.kt)("a",{parentName:"p",href:"https://app.saber.so/#/tools/ata"},"Saber ATA URL")," and click on Migrate."),(0,n.kt)("p",{align:"center"},(0,n.kt)("img",{src:c,alt:"Saber Migrate",width:"500"})))}h.isMDXComponent=!0}}]);